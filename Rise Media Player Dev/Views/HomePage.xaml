<Page
    x:Class="Rise.App.Views.HomePage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:uc="using:Rise.App.UserControls"
    xmlns:viewmodels="using:Rise.App.ViewModels"
    d:Background="{ThemeResource ApplicationPageBackgroundThemeBrush}"
    d:DesignHeight="572"
    d:DesignWidth="500"
    mc:Ignorable="d">

    <ScrollViewer
        Padding="56,56,56,0"
        d:Padding="12"
        VerticalScrollBarVisibility="Auto">
        <StackPanel
            Padding="0,0,0,120"
            d:Padding="0"
            Orientation="Vertical"
            Spacing="4">
            <uc:AdaptiveItemPane>
                <uc:AdaptiveItemPane.LeftPane>
                    <Image Height="42">
                        <Image.Source>
                            <BitmapImage DecodePixelType="Logical" UriSource="ms-appx:///Assets/Branding/alphabanner.png" />
                        </Image.Source>
                    </Image>
                </uc:AdaptiveItemPane.LeftPane>

                <uc:AdaptiveItemPane.RightPane>
                    <Button
                        x:Name="GlanceManage"
                        Width="125"
                        Click="GlanceManage_Click"
                        Content="Add widgets" />
                </uc:AdaptiveItemPane.RightPane>
            </uc:AdaptiveItemPane>

            <Border
                Margin="0,15,0,0"
                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                BorderThickness="1"
                CornerRadius="6"
                Opacity="1"
                Style="{StaticResource SettingsCard}">
                <Grid>
                    <StackPanel
                        x:Name="NoWidgetsPanel"
                        Orientation="Vertical"
                        Visibility="Collapsed">
                        <StackPanel Padding="0,50,0,20">
                            <Image
                                Width="88"
                                Height="80"
                                Source="ms-appx:///Assets/AtAGlance/widgets.png" />
                        </StackPanel>

                        <TextBlock
                            FontSize="24"
                            FontWeight="SemiBold"
                            Text="We have nothing to show here."
                            TextAlignment="Center"
                            TextWrapping="WrapWholeWords" />
                        <TextBlock
                            FontSize="24"
                            FontWeight="SemiBold"
                            Text="That's pretty sad, so add some widgets!"
                            TextAlignment="Center"
                            TextWrapping="WrapWholeWords" />
                        <TextBlock
                            Padding="0,20,0,32"
                            FontSize="15"
                            FontWeight="SemiBold"
                            Foreground="{ThemeResource ApplicationSecondaryForegroundThemeBrush}"
                            Text="Personalise your at a glance page with the things you love."
                            TextAlignment="Center"
                            TextWrapping="WrapWholeWords" />
                    </StackPanel>

                    <Hub
                        x:Name="WidgetsHub"
                        Margin="-8"
                        Orientation="Horizontal">
                        <Hub.Header>
                            <TextBlock Style="{StaticResource SubtitleTextBlockStyle}" Text="Your widgets" />
                        </Hub.Header>

                        <uc:HubPart>
                            <GridView
                                x:Name="WidgetsList"
                                ItemsSource="{x:Bind MViewModel.Widgets}"
                                SelectionMode="None">
                                <GridView.ItemTemplate>
                                    <DataTemplate x:DataType="viewmodels:WidgetViewModel">
                                        <uc:WidgetControl
                                            Title="{x:Bind Title, Mode=OneWay}"
                                            Width="232"
                                            Height="96"
                                            ShowIcon="{x:Bind ShowIcon, Mode=OneWay}"
                                            ShowTitle="{x:Bind ShowTitle, Mode=OneWay}"
                                            WidgetContent="{x:Bind Content, Mode=OneWay}">
                                            <uc:WidgetControl.Icon>
                                                <FontIcon Glyph="{x:Bind IconGlyph, Mode=OneWay}" />
                                            </uc:WidgetControl.Icon>
                                        </uc:WidgetControl>
                                    </DataTemplate>
                                </GridView.ItemTemplate>
                            </GridView>
                        </uc:HubPart>
                    </Hub>
                </Grid>
            </Border>

            <TextBlock x:Uid="/Information/QuickH" Style="{StaticResource SubheaderTextBlockStyle}" />

            <uc:ExpanderControl
                x:Uid="/Information/AddRemove"
                Click="FoldersButton_Click"
                ExpanderStyle="Button"
                Icon="&#xE19C;" />
            <uc:ExpanderControl
                x:Name="BrowseMedia"
                x:Uid="/Information/BrowseMedia"
                Click="BrowseMedia_Click"
                ExpanderStyle="Button"
                Icon="&#xE838;" />
            <uc:ExpanderControl
                x:Uid="/Information/Support"
                Click="SupportButton_Click"
                ExpanderStyle="Button"
                Icon="&#xE822;" />
            <uc:ExpanderControl
                Title="What's New"
                Click="WhatsNew_Click"
                Description="Check out the new features in Rise Media Player."
                ExpanderStyle="Button"
                Icon="&#xF4A5;" />
        </StackPanel>

        <VisualStateManager.VisualStateGroups>
            <VisualStateGroup x:Name="WidgetStates">
                <VisualState x:Name="WidgetsAddedState" />
                <VisualState x:Name="NoWidgetsState">
                    <VisualState.Setters>
                        <Setter Target="WidgetsHub.Visibility" Value="Collapsed" />
                        <Setter Target="NoWidgetsPanel.Visibility" Value="Visible" />
                    </VisualState.Setters>
                </VisualState>
            </VisualStateGroup>
        </VisualStateManager.VisualStateGroups>
    </ScrollViewer>
</Page>